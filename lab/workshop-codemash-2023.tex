% !TeX document-id = {49bba47f-fadc-40c0-b34f-537b11aff166}
% !TeX root = workshop-codemash-2023.tex
% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]

% https://orcid.org/0000-0003-4586-8500

\include{preamble}

\begin{document}

\include{frontmatter/title}

\section{\label{sec:Start}Build a Serverless Github Bot in GCP}
\vspace{2mm}

\justifying
This workshop is meant to be a fun way to learn more about some modern software development technologies.
You don't need to have a deep understanding of all parts. Rather, you can follow along from end to end
and choose to focus more deeply on any part that holds your attention.

\justifying
Yes, there are easier ways to do many of the things in this document. It's OK to use those easier ways.
Doing things ``the hard way'' may give deeper understanding and valuable insight. You have to show
up to the gym every day and put in the work if you want the results. Same with this.

\subsection{\label{sec:outline}Outline}

\justifying
A high level overview of the learning path is as follows:

\begin{raggedright}
	\begin{enumerate}
		\item Preparation
		\item Review the Python source for the bot.
		\item Configure Google Cloud account, service user, etc.
		\item Set up GitHub with a bot account, dev token, and webhook.
		\item Configure Terraform and deploy the bot.
		\item Test it out.
		\item Explore possibilities for extending the functionality.
	\end{enumerate}
\end{raggedright}
\vspace{2mm}

\section{\label{sec:preparation}Preparation}

\justifying
There are some requirements that must be met to successfully complete this workshop.

\href{https://cloud.google.com/sdk/docs/install}{Install the Google Cloud SDK}

\subsection{\label{sec:account}Google Cloud Account}

\justifying

\href{https://cloud.google.com/free/}{Set up a free Google Cloud account}

\subsection{\label{sec:ghaccount}Github Accounts}

\justifying
You will need two e-mail accounts for this workshop. The first is used for your personal Github
account. If you already have a Github account, you should be all set.

\justifying
The second e-mail address will be used to create a Github account for your bot.

\section{\label{sec:autotools}GNU Autotools}

\justifying
GNU Autotools have been included in the code base for the workshop. Autotools are a well-maintained set of Open Source tools with a gentle learning curve and are included in the distribution of many Open Source packages that we all rely on daily, at least indirectly, and often unknowingly.

\justifying
The list of tools for using this Autotools configuration paradigm is show in Table \ref{Autotools}.
\vspace{2mm}

\begin{table}[ht]
	\centering
	\begin{tabular}{|l|l|}\hline
		Tool & Description \\\hline
		autoconf & Generates a configure script from configure.ac   \\\hline
		automake & Generates a system-specific Makefile based on Makefile.am template    \\\hline
		make  &   X    \\\hline
	\end{tabular}
	\caption{Tools used in this project}
	\label{Autotools}
\end{table}
\vspace{2mm}

\justifying
The image shown in Figure \ref{diagram} is from \cite{autobasics}.
It illustrates the relationship between components mentioned in Table \ref{Autotools}.
\vspace{2mm}

\begin{figure}[ht]
	\includegraphics[width=12cm]{images/diagram.png}
	\caption{A basic overview of how the main Autotools components fit together.}
	\label{diagram}
\end{figure}
\vspace{2mm}

\section{\label{sec:bot}Bot Setup}


\justifying
\begin{raggedright}
	\begin{enumerate}
		\item Create a new Github account using the second e-mail address.
		\item As your ``main user'', invite the bot user ``bot-account'' as a collaborator on the repo.
		\item Add the Github action to the repository.
	\end{enumerate}
\end{raggedright}
\vspace{2mm}

\justifying
You can add a cool icon to the bot account Github profile.

\markdownInput{code/cloudbotyaml.md}

\section{\label{sec:Python}Python}

\justifying
The Python code is meant to run as a ``Cloud Function'' in GCP. This is a cost-effective way to run code
without deploying cloud infrastructure such as dedicated host instances or other cloud infrastructure
that must be maintained. We get to run our code and let Google take care of the rest.

\section{\label{sec:Terraform}Terraform}


\clearpage
\begin{versionhistory}
	\vhEntry{v0.1}{October 2nd, 2022}{Franklin Diaz}{Initial Draft}
\end{versionhistory}

\clearpage
% \nocite{*}
\bibliographystyle{plain}
\bibliography{mybib.bib}

\end{document}
